imports:
  root: ../__package__.yml
types:
  ListSubscriptionsRequestFrequency:
    enum:
      - weekly
      - fortnightly
      - monthly
      - quarterly
      - yearly
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListSubscriptionsRequestStatus:
    enum:
      - active
      - completed
      - suspended
      - cancelled
    source:
      openapi: openapi/external/universal-api-v1.yaml
  SubscriptionRequestPaymentMethod:
    base-properties: {}
    discriminant: type
    docs: Object that contains information about the customer's payment details.
    source:
      openapi: openapi/external/universal-api-v1.yaml
    union:
      secureToken:
        type: root.SecureTokenPayload
service:
  auth: false
  base-path: ''
  endpoints:
    create:
      auth: true
      display-name: Create subscription
      docs: Create a new subscription.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
          request:
            customFields:
              - name: yourCustomField
                value: abc123
            description: Premium Club subscription
            endDate: '2025-07-01'
            length: 12
            name: Premium Club
            pauseCollectionFor: 0
            paymentMethod:
              token: '1234567890123456789'
              type: secureToken
            paymentPlanId: PlanRef8765
            recurringOrder:
              amount: 4999
              breakdown:
                subtotal: 4347
                taxes:
                  - name: Sales Tax
                    rate: 5
              description: Monthly Premium Club subscription
            setupOrder:
              amount: 4999
              breakdown:
                subtotal: 4347
                taxes:
                  - name: Sales Tax
                    rate: 5
              description: Initial setup fee for Premium Club subscription
              orderId: OrderRef6543
            startDate: '2024-07-02'
            subscriptionId: SubRef7654
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
      method: POST
      path: /processing-terminals/{processingTerminalId}/subscriptions
      request:
        body:
          properties:
            customFields:
              docs: |
                Array of customField objects.
              type: optional<list<root.CustomField>>
            description:
              docs: >
                Description of the subscription. 

                This value replaces the description inherited from the payment
                plan.
              type: optional<string>
              validation:
                maxLength: 128
                minLength: 1
            endDate:
              docs: >
                Format: **YYYY-MM-DD**  

                Subscription's end date.  

                **Note:** If you provide values for both **length** and
                **endDate**, 

                our gateway uses the value for **endDate** to determine when the
                subscription should end.
              type: optional<string>
              validation:
                format: date
            length:
              docs: >
                Total number of billing cycles. To indicate that the
                subscription should run indefinitely, send a value of `0`.

                This value replaces the **length** inherited from the payment
                plan.  

                **Note:** If you provide values for both **length** and
                **endDate**, 

                our gateway uses the value for **endDate** to determine when the
                subscription should end.
              type: optional<integer>
              validation:
                min: 0
            name:
              docs: |
                Name of the subscription. 
                This value replaces the name inherited from the payment plan.
              type: optional<string>
              validation:
                maxLength: 128
                minLength: 5
            pauseCollectionFor:
              docs: >
                Number of billing cycles that the merchant wants to pause
                payments for. 

                For example, if the merchant wants to offer a free trial period.
              type: optional<integer>
            paymentMethod:
              docs: >-
                Object that contains information about the customer's payment
                details.
              type: SubscriptionRequestPaymentMethod
            paymentPlanId:
              docs: >-
                Unique identifier that the merchant assigned to the payment
                plan.
              type: string
              validation:
                maxLength: 48
                minLength: 1
            recurringOrder: optional<root.SubscriptionRecurringOrder>
            setupOrder: optional<root.SubscriptionPaymentOrder>
            startDate:
              docs: |
                Format: **YYYY-MM-DD**  
                Subscription's start date.
              type: string
              validation:
                format: date
            subscriptionId:
              docs: >-
                Unique identifier that the merchant assigned to the
                subscription.
              type: string
              validation:
                maxLength: 48
                minLength: 1
        content-type: application/json
        headers:
          Idempotency-Key:
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
            name: idempotencyKey
            type: string
        name: SubscriptionRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
      response:
        docs: Successful request. We created the subscription.
        status-code: 201
        type: root.Subscription
      source:
        openapi: openapi/external/universal-api-v1.yaml
    deactivate:
      auth: true
      display-name: Deactivate subscription
      docs: Deactivate a subscription.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Deactivate subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: cancelled
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Monthly Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Monthly Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
      method: POST
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/deactivate
      request:
        name: DeactivateSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
          subscriptionId:
            docs: Unique identifier of the subscription that you want to deactivate.
            type: string
      response:
        docs: Successful request. We deactivated the subscription.
        status-code: 200
        type: root.Subscription
      source:
        openapi: openapi/external/universal-api-v1.yaml
    get:
      auth: true
      display-name: Retrieve subscription
      docs: Retrieve a specific subscription.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
      method: GET
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}
      request:
        name: GetSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
          subscriptionId:
            docs: Unique identifier of the subscription that you want to view.
            type: string
      response:
        docs: Successful request. Returns the requested subscription.
        status-code: 200
        type: root.Subscription
      source:
        openapi: openapi/external/universal-api-v1.yaml
    list:
      auth: true
      display-name: List subscriptions
      docs: |
        List subscriptions linked to a terminal.  
        To filter your results, use the query parameters.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Paginated Subscription
          path-parameters:
            processingTerminalId: '1234001'
          query-parameters:
            after: '8516'
            before: '2571'
            customerName: Sarah%20Hazel%20Hopper
            endDate: '2025-07-01T00:00:00Z'
            last4: '7062'
            nextDueDate: '2024-08-01T00:00:00Z'
            paymentPlan: Premium%20Club
          response:
            body:
              count: 2
              data:
                - currency: USD
                  currentState:
                    nextDueDate: '2024-08-02'
                    outstandingInvoices: 11
                    paidInvoices: 1
                    status: active
                  customFields:
                    - name: yourCustomField
                      value: abc123
                  description: Monthly Premium Club subscription
                  endDate: '2025-08-01'
                  frequency: monthly
                  length: 0
                  name: Premium Club
                  pauseCollectionFor: 0
                  paymentPlan:
                    link:
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                      method: GET
                      rel: self
                    name: Monthly Premium Club subscription
                    paymentPlanId: PlanRef8765
                  processingTerminalId: '1234001'
                  recurringOrder:
                    amount: 4999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Monthly Premium Club subscription
                  secureToken:
                    customerName: Sarah Hazel Hopper
                    link:
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                      method: GET
                      rel: self
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    status: notValidated
                    token: '296753123456'
                  setupOrder:
                    amount: 4999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Initial setup fee for Premium Club subscription
                    orderId: OrderRef6543
                  startDate: '2024-07-02'
                  subscriptionId: SubRef7654
                  type: automatic
                - currency: USD
                  currentState:
                    nextDueDate: '2024-04-11'
                    outstandingInvoices: 11
                    paidInvoices: 1
                    status: active
                  customFields:
                    - name: yourCustomField
                      value: abc123
                  description: Pie It Forward charitable trust donation
                  endDate: '2024-07-02'
                  frequency: yearly
                  length: 0
                  name: Pie It Forward
                  pauseCollectionFor: 0
                  paymentPlan:
                    link:
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef7654
                      method: GET
                      rel: self
                    name: Pie it Forward charitable trust donation
                    paymentPlanId: PlanRef7654
                  processingTerminalId: '1234001'
                  recurringOrder:
                    amount: 3999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Monthly Premium Club subscription
                  secureToken:
                    customerName: Sarah Hazel Hopper
                    link:
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                      method: GET
                      rel: self
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    status: notValidated
                    token: '296753123456'
                  setupOrder:
                    amount: 3999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Monthly Premium Club subscription
                    orderId: OrderRef7654
                  startDate: '2024-07-02'
                  subscriptionId: SubRef8543
                  type: automatic
              hasMore: true
              limit: 2
              links:
                - href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/subscriptions?limit=2&after=SubRef8543
                  method: get
                  rel: next
                - href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/subscriptions?limit=2&before=SubRef7654
                  method: get
                  rel: previous
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: No records found
          path-parameters:
            processingTerminalId: '1234001'
          query-parameters:
            after: '8516'
            before: '2571'
            customerName: Sarah%20Hazel%20Hopper
            endDate: '2025-07-01T00:00:00Z'
            last4: '7062'
            nextDueDate: '2024-08-01T00:00:00Z'
            paymentPlan: Premium%20Club
          response:
            body:
              count: 0
              data:
                - currency: AED
                  currentState:
                    nextDueDate: '2024-08-02'
                    outstandingInvoices: 9
                    paidInvoices: 3
                    status: active
                  customFields:
                    - name: yourCustomField
                      value: abc123
                  description: >-
                    Monthly Premium Club subscription. Two large pizzas free per
                    month, and exclusive member discounts.
                  endDate: '2025-05-02'
                  frequency: weekly
                  length: 12
                  name: Premium Club
                  pauseCollectionFor: 0
                  paymentPlan:
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                    name: Monthly Premium Club subscription
                    paymentPlanId: PlanRef8765
                  processingTerminalId: '1234001'
                  recurringOrder:
                    amount: 4999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Monthly Premium Club subscription
                  secureToken:
                    customerName: Sarah Hazel Hopper
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    status: notValidated
                    token: '296753123456'
                  setupOrder:
                    amount: 4999
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - amount: 190
                          name: Sales Tax
                          rate: 7
                    description: Monthly Premium Club subscription
                    orderId: OrderRef6543
                  startDate: '2024-05-02'
                  subscriptionId: SubRef7654
                  type: manual
              hasMore: false
              limit: 10
              links:
                - href: <uri>
                  method: get
                  rel: previous
                - href: <uri>
                  method: get
                  rel: next
      method: GET
      pagination:
        results: $response.data
        type: custom
      path: /processing-terminals/{processingTerminalId}/subscriptions
      request:
        headers:
          Idempotency-Key:
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
            name: idempotencyKey
            type: string
        name: ListSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
        query-parameters:
          after:
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
            type: optional<string>
          before:
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
            type: optional<string>
          customerName:
            docs: Filter by the customer's name.
            type: optional<string>
            validation:
              maxLength: 50
              minLength: 1
          endDate:
            docs: |
              Format: `YYYY-MM-DD`  
              Filter subscriptions that end on a specific date.
            type: optional<string>
            validation:
              format: date
          frequency:
            docs: Filter by the frequency of subscription payments.
            type: optional<ListSubscriptionsRequestFrequency>
          last4:
            docs: Filter by the last four digits of the card or account number.
            type: optional<string>
            validation:
              pattern: '[0-9]{4}'
          limit:
            default: 10
            docs: States the total amount of results the response is limited to.
            type: optional<integer>
            validation:
              max: 100
          nextDueDate:
            docs: >
              Format: `YYYY-MM-DD`  

              Filter subscriptions by the date that the next payment is
              collected.
            type: optional<string>
            validation:
              format: date
          paymentPlan:
            docs: Filter by the name of the payment plan.
            type: optional<string>
            validation:
              maxLength: 128
              minLength: 1
          status:
            docs: Filter by the current status of the subscription.
            type: optional<ListSubscriptionsRequestStatus>
      response:
        docs: Successful request. Returns a paginated list of subscriptions.
        status-code: 200
        type: root.SubscriptionPaginatedList
      source:
        openapi: openapi/external/universal-api-v1.yaml
    pay:
      auth: true
      display-name: Pay manual subscription
      docs: Process payment for a manual subscription.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Subscription manual payment
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          request:
            customFields:
              - name: yourCustomField
                value: abc123
            operator: Jane
            order:
              amount: 4999
              breakdown:
                subtotal: 4999
                taxes:
                  - name: Sales Tax
                    rate: 5
              description: Monthly Premium Club subscription
              orderId: OrderRef6543
          response:
            body:
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 2
                paidInvoices: 1
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              payment:
                amount: 4999
                currency: USD
                dateTime: '2024-07-02T15:30:00Z'
                link:
                  href: https://api.payroc.com/v1/bank-transfer-payments/M2MJOG6O2Y
                  method: GET
                  rel: self
                paymentId: M2MJOG6O2Y
                responseCode: A
                responseMessage: Transaction approved
                status: ready
              processingTerminalId: '1234001'
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              subscriptionId: SubRef7654
      method: POST
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/pay
      request:
        body:
          properties:
            customFields:
              docs: |
                Array of customField objects.
              type: optional<list<root.CustomField>>
            operator:
              docs: Operator who initiated the request.
              type: optional<string>
              validation:
                maxLength: 50
                minLength: 0
            order: root.SubscriptionPaymentOrder
        content-type: application/json
        headers:
          Idempotency-Key:
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
            name: idempotencyKey
            type: string
        name: SubscriptionPaymentRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
          subscriptionId:
            docs: >-
              Unique identifier of the subscription that you want to make a
              payment to.
            type: string
      response:
        docs: >-
          Successful request. We have processed the payment for the
          subscription.
        status-code: 201
        type: root.SubscriptionPayment
      source:
        openapi: openapi/external/universal-api-v1.yaml
    reactivate:
      auth: true
      display-name: Re-activate subscription
      docs: Re-activate an existing subscription.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
      method: POST
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/reactivate
      request:
        name: ReactivateSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
          subscriptionId:
            docs: >-
              Unique identifier of the subscription that you want to
              re-activate.
            type: string
      response:
        docs: Successful request. We re-activated the subscription.
        status-code: 200
        type: root.Subscription
      source:
        openapi: openapi/external/universal-api-v1.yaml
    update:
      auth: true
      display-name: Update subscription
      docs: |
        Make changes to a subscription.  

        Structure your request to follow the RFC 6902 standard.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Partially update subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          request:
            - op: remove
              path: path
            - op: remove
              path: path
            - op: remove
              path: path
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Example patch operations that apply the RFC 6902 standard
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          request:
            - op: remove
              path: path
            - op: remove
              path: path
            - op: remove
              path: path
            - from: from
              op: move
              path: path
            - from: from
              op: copy
              path: path
            - op: remove
              path: path
          response:
            body:
              currency: USD
              currentState:
                nextDueDate: '2024-08-02'
                outstandingInvoices: 3
                paidInvoices: 0
                status: active
              customFields:
                - name: yourCustomField
                  value: abc123
              description: Premium Club subscription
              endDate: '2025-07-01'
              frequency: monthly
              length: 12
              name: Premium Club
              pauseCollectionFor: 0
              paymentPlan:
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  method: GET
                  rel: self
                name: Monthly Premium Club subscription
                paymentPlanId: PlanRef8765
              processingTerminalId: '1234001'
              recurringOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Premium Club subscription
              secureToken:
                customerName: Sarah Hazel Hopper
                link:
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  method: GET
                  rel: self
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                status: notValidated
                token: '296753123456'
              setupOrder:
                amount: 4999
                breakdown:
                  subtotal: 4347
                  surcharge:
                    amount: 217
                    bypass: false
                    percentage: 5
                  taxes:
                    - amount: 190
                      name: Sales Tax
                      rate: 5
                description: Initial setup fee for Premium Club subscription
                orderId: OrderRef6543
              startDate: '2024-07-02'
              subscriptionId: SubRef7654
              type: automatic
      method: PATCH
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}
      request:
        body: root.PatchRequest
        content-type: application/json
        headers:
          Idempotency-Key:
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
            name: idempotencyKey
            type: string
        name: UpdateSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            docs: Unique identifier that our gateway assigned to the terminal.
            type: string
          subscriptionId:
            docs: Unique identifier of the subscription that you want to view.
            type: string
      response:
        docs: Successful request. We have updated the subscription.
        status-code: 200
        type: root.Subscription
      source:
        openapi: openapi/external/universal-api-v1.yaml
  source:
    openapi: openapi/external/universal-api-v1.yaml
