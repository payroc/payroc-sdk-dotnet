imports:
  root: ../__package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    get:
      auth: true
      display-name: Retrieve refund instruction
      docs: Retrieve the current status of a specific refund instruction.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Refund instruction
          path-parameters:
            refundInstructionId: a37439165d134678a9100ebba3b29597
          response:
            body:
              errorMessage: errorMessage
              link:
                href: https://api.payroc.com/v1/refunds/CD3HN88U9F
                method: GET
                rel: refund
              refundInstructionId: a37439165d134678a9100ebba3b29597
              status: completed
      method: GET
      path: /refund-instructions/{refundInstructionId}
      request:
        name: GetRefundInstructionsRequest
        path-parameters:
          refundInstructionId:
            docs: Unique identifier of the refund instruction.
            type: string
      response:
        docs: >-
          Successful request. Returns the current status of the requested refund
          instruction.
        status-code: 200
        type: root.RefundInstruction
      source:
        openapi: openapi/external/universal-api-v1.yaml
    send:
      auth: true
      display-name: Submit refund instruction
      docs: Submit an instruction request to initiate a refund on a payment device.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          name: Refund instruction
          path-parameters:
            serialNumber: '1850010868'
          request:
            customizationOptions:
              entryMethod: manualEntry
            operator: Jane
            order:
              amount: 4999
              currency: USD
              description: Refund for order OrderRef6543
              orderId: OrderRef6543
            processingTerminalId: '1234001'
          response:
            body:
              errorMessage: errorMessage
              link:
                href: >-
                  https://api.payroc.com/v1/refund-instructions/a37439165d134678a9100ebba3b29597
                method: GET
                rel: self
              refundInstructionId: a37439165d134678a9100ebba3b29597
              status: inProgress
      method: POST
      path: /devices/{serialNumber}/refund-instructions
      request:
        body:
          properties:
            customer: optional<root.Customer>
            customizationOptions: optional<root.CustomizationOptions>
            ipAddress: optional<root.IpAddress>
            operator:
              docs: Operator who initiated the request.
              type: optional<string>
              validation:
                maxLength: 50
                minLength: 0
            order: root.RefundInstructionOrder
            processingTerminalId:
              docs: Unique identifier that our gateway assigned to the terminal.
              type: string
              validation:
                maxLength: 50
                minLength: 4
        content-type: application/json
        headers:
          Idempotency-Key:
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
            name: idempotencyKey
            type: string
        name: RefundInstructionRequest
        path-parameters:
          serialNumber:
            docs: Serial number that identifies the merchantâ€™s payment device.
            type: string
      response:
        docs: Successful request. We accepted the refund instruction to process.
        status-code: 202
        type: root.RefundInstruction
      source:
        openapi: openapi/external/universal-api-v1.yaml
  source:
    openapi: openapi/external/universal-api-v1.yaml
