imports:
  root: ../__package__.yml
types:
  ListAuthorizationsSettlementResponse:
    extends:
      - root.PaginatedList
    properties:
      data:
        docs: Array of authorization objects.
        type: list<root.Authorization>
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListBatchesSettlementResponse:
    extends:
      - root.PaginatedList
    properties:
      data:
        docs: Array of batch objects.
        type: list<root.Batch>
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListDisputesSettlementResponse:
    extends:
      - root.PaginatedList
    properties:
      data:
        docs: Array of dispute objects.
        type: list<root.Dispute>
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListTransactionsSettlementRequestTransactionType:
    enum:
      - Capture
      - Return
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListTransactionsSettlementResponse:
    extends:
      - root.PaginatedList
    properties:
      data:
        docs: Array of transaction objects.
        type: list<root.Transaction>
    source:
      openapi: openapi/external/universal-api-v1.yaml
service:
  auth: false
  base-path: ''
  endpoints:
    getAuthorization:
      auth: true
      display-name: Retrieve authorization
      docs: Retrieve a specific authorization.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            authorizationId: 1
          response:
            body:
              authorizationId: 12345
              authorizationResponse: activityCountLimitExceeded
              batch:
                batchId: 1234
                cycle: am
                date: '2024-07-02'
                link:
                  href: <uri>
                  method: get
                  rel: previous
              card:
                avsRequest: true
                avsResponse: avsResponse
                cardNumber: 123456**********4124
                cvvPresenceIndicator: true
                type: visa
              createdDate: '2024-01-30'
              currency: currency
              lastModifiedDate: '2024-01-30'
              merchant:
                doingBusinessAs: Doe Hot Dogs
                link:
                  href: https://api.payroc.com/v1/merchants/4525644354
                  method: get
                  rel: merchant
                merchantId: '4525644354'
              preauthorizationRequestAmount: 10000
              transaction:
                amount: 25000
                date: '2024-07-02'
                entryMethod: barcodeRead
                link:
                  href: <uri>
                  method: get
                  rel: previous
                transactionId: 12345
                type: capture
      method: GET
      path: /authorizations/{authorizationId}
      request:
        name: GetAuthorizationSettlementRequest
        path-parameters:
          authorizationId:
            docs: Unique identifier of the authorization.
            type: integer
      response:
        docs: Successful request. Returns the requested authorization.
        status-code: 200
        type: root.Authorization
      source:
        openapi: openapi/external/universal-api-v1.yaml
    getBatch:
      auth: true
      display-name: Retrieve batch
      docs: Retrieve a specific batch.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            batchId: 1
          response:
            body:
              batchId: 123
              createdDate: '2024-07-02'
              currency: currency
              date: '2024-07-02'
              heldAmount: 1
              lastModifiedDate: '2024-07-02'
              links:
                - href: https://api.payroc.com/v1/transactions?batchId=123
                  method: get
                  rel: transactions
                - href: https://api.payroc.com/v1/authorizations?batchId=123
                  method: get
                  rel: authorizations
              merchant:
                doingBusinessAs: Doe Hot Dogs
                link:
                  href: https://api.payroc.com/v1/merchants/4525644354
                  method: get
                  rel: merchant
                merchantId: '4525644354'
              returnAmount: 1
              saleAmount: 1
              transactionCount: 1
      method: GET
      path: /batches/{batchId}
      request:
        name: GetBatchSettlementRequest
        path-parameters:
          batchId:
            docs: Unique identifier of the batch.
            type: integer
      response:
        docs: Successful request. Returns the requested batch.
        status-code: 200
        type: root.Batch
      source:
        openapi: openapi/external/universal-api-v1.yaml
    getDisputesStatuses:
      auth: true
      display-name: List dispute statuses
      docs: Retrieve the status history for a specific dispute.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            disputeId: 1
          response:
            body:
              - disputeStatusId: 12345
                status: prearbitrationInProcess
                statusDate: '2024-02-01'
      method: GET
      path: /disputes/{disputeId}/statuses
      request:
        name: GetDisputesStatusesSettlementRequest
        path-parameters:
          disputeId:
            docs: Unique identifier of the dispute.
            type: integer
      response:
        docs: Successful request. Returns the status history for a specific dispute.
        status-code: 200
        type: list<root.DisputeStatus>
      source:
        openapi: openapi/external/universal-api-v1.yaml
    getTransaction:
      auth: true
      display-name: Retrieve transaction
      docs: Retrieve a specific transaction.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            transactionId: 1
          response:
            body:
              amount: 4999
              authorization:
                amount: 4999
                authorizationId: 303101
                avsResponseCode: 'Y'
                code: A1B2C3
                link:
                  href: <uri>
                  method: get
                  rel: previous
              batch:
                batchId: 1234
                cycle: am
                date: '2024-07-02'
                link:
                  href: <uri>
                  method: get
                  rel: previous
              card:
                avsRequest: true
                avsResponse: avsResponse
                cardNumber: 123456**********4124
                cvvPresenceIndicator: true
                type: visa
              cashbackAmount: 0
              createdDate: '2024-07-02'
              currency: USD
              date: '2024-07-02'
              entryMethod: barcodeRead
              interchange:
                basisPoint: 150
                transactionFee: 50
              lastModifiedDate: '2024-07-02'
              merchant:
                doingBusinessAs: Doe Hot Dogs
                link:
                  href: https://api.payroc.com/v1/merchants/4525644354
                  method: get
                  rel: merchant
                merchantId: '4525644354'
              settled:
                achDate: '2024-07-02'
                settledBy: Payroc
              status: fullSuspense
              transactionId: 442233
              type: capture
      method: GET
      path: /transactions/{transactionId}
      request:
        name: GetTransactionSettlementRequest
        path-parameters:
          transactionId:
            docs: Unique identifier of the transaction.
            type: integer
      response:
        docs: Successful request. Returns the requested transaction.
        status-code: 200
        type: root.Transaction
      source:
        openapi: openapi/external/universal-api-v1.yaml
    listAuthorizations:
      auth: true
      display-name: List authorizations
      docs: Retrieve a list of authorizations.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated authorizations
          query-parameters:
            after: '8516'
            batchId: 1
            before: '2571'
            date: '2024-07-01'
            merchantId: '4525644354'
          response:
            body:
              count: 1
              data:
                - authorizationId: 65
                  authorizationResponse: successful
                  batch:
                    batchId: 12
                    cycle: am
                    date: '2024-07-02'
                    link:
                      href: https://api.payroc.com/v1/batches/12
                      method: get
                      rel: batch
                  card:
                    avsRequest: true
                    avsResponse: ''
                    cardNumber: 12456**********4124
                    cvvPresenceIndicator: true
                    type: visa
                  createdDate: '2024-07-02'
                  currency: USD
                  lastModifiedDate: '2024-07-02'
                  merchant:
                    doingBusinessAs: Pizza Doe
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  preauthorizationRequestAmount: 10000
                  transaction:
                    amount: 100
                    date: ''
                    entryMethod: swiped
                    link:
                      href: https://api.payroc.com/v1/transactions/12345
                      method: get
                      rel: transaction
                    transactionId: 12345
                    type: capture
              hasMore: false
              limit: 2
              links:
                - href: >-
                    https://api.payroc.com/v1/authorizations?before=65&limit=2&date=2024-07-02
                  method: get
                  rel: previous
        - name: No records found
          query-parameters:
            after: '8516'
            batchId: 1
            before: '2571'
            date: '2024-07-01'
            merchantId: '4525644354'
          response:
            body:
              count: 0
              data:
                - authorizationId: 12345
                  authorizationResponse: activityCountLimitExceeded
                  batch:
                    batchId: 1234
                    cycle: am
                    date: '2024-07-02'
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                  card:
                    cardNumber: 123456**********4124
                  createdDate: '2024-01-30'
                  currency: currency
                  lastModifiedDate: '2024-01-30'
                  merchant:
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  preauthorizationRequestAmount: 10000
                  transaction:
                    amount: 25000
                    date: '2024-07-02'
                    link:
                      href: <uri>
                      method: get
                      rel: previous
              hasMore: false
              limit: 10
              links:
                - href: <uri>
                  method: get
                  rel: previous
                - href: <uri>
                  method: get
                  rel: next
      method: GET
      pagination:
        results: $response.data
        type: custom
      path: /authorizations
      request:
        name: ListReportingSettlementAuthorizationsRequest
        query-parameters:
          after:
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
            type: optional<string>
          batchId:
            docs: >-
              Unique identifier of the batch. You must provide either the
              'batchId' or the 'date'.
            type: integer
          before:
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
            type: optional<string>
          date:
            docs: >-
              Date to retrieve results from. The format of this value is
              **YYYY-MM-DD**. You must provide either the 'batchId' or the
              'date'.
            type: string
            validation:
              format: date
          limit:
            default: 10
            docs: States the total amount of results the response is limited to.
            type: optional<integer>
            validation:
              max: 100
          merchantId:
            docs: Unique identifier of the merchant.
            type: optional<string>
      response:
        docs: Successful request. Returns a paginated list of authorizations.
        status-code: 200
        type: ListAuthorizationsSettlementResponse
      source:
        openapi: openapi/external/universal-api-v1.yaml
    listBatches:
      auth: true
      display-name: List batches
      docs: Retrieve batch data for a specific date.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated batches
          query-parameters:
            after: '8516'
            before: '2571'
            date: '2027-07-02'
            merchantId: '4525644354'
          response:
            body:
              count: 2
              data:
                - batchId: 65
                  createdDate: '2024-07-02'
                  currency: USD
                  date: '2024-07-02'
                  heldAmount: 0
                  lastModifiedDate: '2024-07-02'
                  links:
                    - href: https://api.payroc.com/v1/transactions?batchId=65
                      method: get
                      rel: transactions
                    - href: https://api.payroc.com/v1/authorizations?batchId=65
                      method: get
                      rel: authorizations
                  merchant:
                    doingBusinessAs: Pizza Doe
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  returnAmount: 0
                  saleAmount: 100
                  transactionCount: 10
                - batchId: 66
                  createdDate: '2024-07-02'
                  currency: USD
                  date: '2024-07-02'
                  heldAmount: 0
                  lastModifiedDate: '2024-07-02'
                  links:
                    - href: https://api.payroc.com/v1/transactions?batchId=66
                      method: get
                      rel: transactions
                    - href: https://api.payroc.com/v1/authorizations?batchId=66
                      method: get
                      rel: authorizations
                  merchant:
                    doingBusinessAs: Joe Bloggs Shoes
                    link:
                      href: https://api.payroc.com/v1/merchants/9876543219
                      method: get
                      rel: merchant
                    merchantId: '9876543219'
                  returnAmount: 12
                  saleAmount: 76
                  transactionCount: 10
              hasMore: true
              limit: 2
              links:
                - href: >-
                    https://api.payroc.com/v1/batches?before=65&limit=2&date=2024-07-02
                  method: get
                  rel: previous
                - href: >-
                    https://api.payroc.com/v1/batches?after=66&limit=2&&date=2024-07-02
                  method: get
                  rel: next
        - name: No records found
          query-parameters:
            after: '8516'
            before: '2571'
            date: '2027-07-02'
            merchantId: '4525644354'
          response:
            body:
              count: 0
              data:
                - batchId: 123
                  createdDate: '2024-07-02'
                  currency: currency
                  date: '2024-07-02'
                  heldAmount: 1
                  lastModifiedDate: '2024-07-02'
                  links:
                    - href: https://api.payroc.com/v1/transactions?batchId=123
                      method: get
                      rel: transactions
                    - href: https://api.payroc.com/v1/authorizations?batchId=123
                      method: get
                      rel: authorizations
                  merchant:
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  returnAmount: 1
                  saleAmount: 1
                  transactionCount: 1
              hasMore: false
              limit: 10
              links:
                - href: <uri>
                  method: get
                  rel: previous
                - href: <uri>
                  method: get
                  rel: next
      method: GET
      pagination:
        results: $response.data
        type: custom
      path: /batches
      request:
        name: ListReportingSettlementBatchesRequest
        query-parameters:
          after:
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
            type: optional<string>
          before:
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
            type: optional<string>
          date:
            docs: >-
              Date that the merchant submitted the batch. The format of this
              value is **YYYY-MM-DD**.
            type: string
            validation:
              format: date
          limit:
            default: 10
            docs: States the total amount of results the response is limited to.
            type: optional<integer>
            validation:
              max: 100
          merchantId:
            docs: Unique identifier of the merchant.
            type: optional<string>
      response:
        docs: Successful request. Returns a paginated list of batches.
        status-code: 200
        type: ListBatchesSettlementResponse
      source:
        openapi: openapi/external/universal-api-v1.yaml
    listDisputes:
      auth: true
      display-name: List disputes
      docs: Retrieve a list of disputes.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated disputes
          query-parameters:
            after: '8516'
            before: '2571'
            date: '2024-07-02'
            merchantId: '4525644354'
          response:
            body:
              count: 1
              data:
                - authorizationCode: '574254'
                  card:
                    avsRequest: true
                    avsResponse: ''
                    cardNumber: 12456**********4124
                    cvvPresenceIndicator: true
                    type: visa
                  createdDate: '2024-07-02'
                  currency: USD
                  currentStatus:
                    disputeStatusId: 123
                    link:
                      href: https://api.payroc.com/v1/disputes/65/statuses
                      method: get
                      rel: statuses
                    status: new
                    statusDate: '2024-07-02'
                  description: ''
                  disputeAmount: 1000
                  disputeId: 65
                  disputeType: firstDispute
                  feeAmount: 100
                  firstDispute: true
                  lastModifiedDate: '2024-07-02'
                  merchant:
                    doingBusinessAs: Pizza Doe
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  receivedDate: ''
                  referenceNumber: '35435435'
                  transaction:
                    amount: 100
                    date: ''
                    entryMethod: swiped
                    link:
                      href: https://api.payroc.com/v1/transactions/12345
                      method: get
                      rel: transaction
                    transactionId: 12345
                    type: capture
              hasMore: false
              limit: 2
              links:
                - href: >-
                    https://api.payroc.com/v1/disputes?before=65&limit=2&date=2024-07-02
                  method: get
                  rel: previous
        - name: No records found
          query-parameters:
            after: '8516'
            before: '2571'
            date: '2024-07-02'
            merchantId: '4525644354'
          response:
            body:
              count: 0
              data:
                - authorizationCode: authorizationCode
                  card:
                    cardNumber: 123456**********4124
                  createdDate: '2024-02-20'
                  currency: currency
                  currentStatus:
                    disputeStatusId: 12345
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                    statusDate: '2024-02-01'
                  description: description
                  disputeAmount: 1
                  disputeId: 12345
                  disputeType: prearbitration
                  feeAmount: 1
                  firstDispute: true
                  lastModifiedDate: '2024-02-25'
                  merchant:
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  receivedDate: '2024-02-18'
                  referenceNumber: referenceNumber
                  transaction:
                    amount: 25000
                    date: '2024-07-02'
                    link:
                      href: <uri>
                      method: get
                      rel: previous
              hasMore: false
              limit: 10
              links:
                - href: <uri>
                  method: get
                  rel: previous
                - href: <uri>
                  method: get
                  rel: next
      method: GET
      pagination:
        results: $response.data
        type: custom
      path: /disputes
      request:
        name: ListReportingSettlementDisputesRequest
        query-parameters:
          after:
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
            type: optional<string>
          before:
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
            type: optional<string>
          date:
            docs: Date that the dispute was submitted.
            type: string
            validation:
              format: date
          limit:
            default: 10
            docs: States the total amount of results the response is limited to.
            type: optional<integer>
            validation:
              max: 100
          merchantId:
            docs: Unique identifier of the merchant.
            type: optional<string>
      response:
        docs: Successful request. Returns a paginated list of disputes.
        status-code: 200
        type: ListDisputesSettlementResponse
      source:
        openapi: openapi/external/universal-api-v1.yaml
    listTransactions:
      auth: true
      display-name: List transactions
      docs: Retrieve a list of transactions.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated transactions
          query-parameters:
            after: '8516'
            batchId: 1
            before: '2571'
            date: '2024-07-01'
            merchantId: '4525644354'
          response:
            body:
              count: 1
              data:
                - amount: 4999
                  authorization:
                    amount: 4999
                    authorizationId: 303101
                    avsResponseCode: ''
                    code: A1B2C3
                    link:
                      href: https://api.payroc.com/v1/authorizations/303101
                      method: get
                      rel: authorization
                  batch:
                    batchId: 12
                    cycle: am
                    date: '2024-07-02'
                    link:
                      href: https://api.payroc.com/v1/batches/12
                      method: get
                      rel: batch
                  card:
                    avsRequest: true
                    avsResponse: ''
                    cardNumber: 453985******7062
                    cvvPresenceIndicator: true
                    type: visa
                  cashbackAmount: 0
                  createdDate: '2024-07-02'
                  currency: USD
                  date: '2024-07-02'
                  entryMethod: ecommerce
                  interchange:
                    basisPoint: 0
                    transactionFee: 0
                  lastModifiedDate: '2024-07-02'
                  merchant:
                    doingBusinessAs: Pizza Doe
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  settled:
                    achDate: '2024-07-02'
                    settledBy: 3rd party
                  status: paid
                  transactionId: 442233
                  type: capture
              hasMore: false
              limit: 2
              links:
                - href: >-
                    https://api.payroc.com/v1/transctions?before=442233&limit=2&date=2024-07-02
                  method: get
                  rel: previous
        - name: No records found
          query-parameters:
            after: '8516'
            batchId: 1
            before: '2571'
            date: '2024-07-01'
            merchantId: '4525644354'
          response:
            body:
              count: 0
              data:
                - amount: 4999
                  authorization:
                    amount: 4999
                    authorizationId: 303101
                    avsResponseCode: 'Y'
                    code: A1B2C3
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                  batch:
                    batchId: 1234
                    cycle: am
                    date: '2024-07-02'
                    link:
                      href: <uri>
                      method: get
                      rel: previous
                  card:
                    cardNumber: 123456**********4124
                  cashbackAmount: 0
                  createdDate: '2024-07-02'
                  currency: USD
                  date: '2024-07-02'
                  entryMethod: barcodeRead
                  interchange:
                    basisPoint: 150
                    transactionFee: 50
                  lastModifiedDate: '2024-07-02'
                  merchant:
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      href: https://api.payroc.com/v1/merchants/4525644354
                      method: get
                      rel: merchant
                    merchantId: '4525644354'
                  settled:
                    achDate: '2024-07-02'
                    settledBy: Payroc
                  status: fullSuspense
                  transactionId: 442233
                  type: capture
              hasMore: false
              limit: 10
              links:
                - href: <uri>
                  method: get
                  rel: previous
                - href: <uri>
                  method: get
                  rel: next
      method: GET
      pagination:
        results: $response.data
        type: custom
      path: /transactions
      request:
        name: ListReportingSettlementTransactionsRequest
        query-parameters:
          after:
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
            type: optional<string>
          batchId:
            docs: >-
              Unique identifier of the batch. You must provide either the
              'batchId' or the 'date'.
            type: integer
          before:
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
            type: optional<string>
          date:
            docs: >-
              Date to retrieve results from. The format of this value is
              **YYYY-MM-DD**. You must provide either the 'batchId' or the
              'date'.
            type: string
            validation:
              format: date
          limit:
            default: 10
            docs: States the total amount of results the response is limited to.
            type: optional<integer>
            validation:
              max: 100
          merchantId:
            docs: Unique identifier of the merchant.
            type: optional<string>
          transactionType:
            docs: Type of transaction.
            type: optional<ListTransactionsSettlementRequestTransactionType>
      response:
        docs: Successful request. Returns a paginated list of transactions.
        status-code: 200
        type: ListTransactionsSettlementResponse
      source:
        openapi: openapi/external/universal-api-v1.yaml
  source:
    openapi: openapi/external/universal-api-v1.yaml
