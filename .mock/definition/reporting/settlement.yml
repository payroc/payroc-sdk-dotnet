imports:
  root: ../__package__.yml
types:
  ListBatchesSettlementResponse:
    properties:
      data:
        docs: Array of batch objects.
        type: list<root.Batch>
    extends:
      - root.PaginatedList
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListTransactionsSettlementRequestTransactionType:
    enum:
      - Capture
      - Return
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListTransactionsSettlementResponse:
    properties:
      data:
        docs: Array of transaction objects.
        type: list<root.Transaction>
    extends:
      - root.PaginatedList
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListAuthorizationsSettlementResponse:
    properties:
      data:
        docs: Array of authorization objects.
        type: list<root.Authorization>
    extends:
      - root.PaginatedList
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListDisputesSettlementResponse:
    properties:
      data:
        docs: Array of dispute objects.
        type: list<root.Dispute>
    extends:
      - root.PaginatedList
    source:
      openapi: openapi/external/universal-api-v1.yaml
service:
  auth: false
  base-path: ''
  endpoints:
    listBatches:
      path: /batches
      method: GET
      auth: true
      docs: Retrieve batch data for a specific date.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List batches
      request:
        name: ListReportingSettlementBatchesRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          date:
            type: string
            docs: >-
              Date that the merchant submitted the batch. The format of this
              value is **YYYY-MM-DD**.
            validation:
              format: date
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
      response:
        docs: Successful request. Returns a paginated list of batches.
        type: ListBatchesSettlementResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated batches
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2027-07-02'
            merchantId: '4525644354'
          response:
            body:
              limit: 2
              count: 2
              hasMore: true
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/batches?before=65&limit=2&date=2024-07-02
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/batches?after=66&limit=2&&date=2024-07-02
              data:
                - batchId: 65
                  date: '2024-07-02'
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  saleAmount: 100
                  heldAmount: 0
                  returnAmount: 0
                  transactionCount: 10
                  currency: USD
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Pizza Doe
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  links:
                    - rel: transactions
                      method: get
                      href: https://api.payroc.com/v1/transactions?batchId=65
                    - rel: authorizations
                      method: get
                      href: https://api.payroc.com/v1/authorizations?batchId=65
                - batchId: 66
                  date: '2024-07-02'
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  saleAmount: 76
                  heldAmount: 0
                  returnAmount: 12
                  transactionCount: 10
                  currency: USD
                  merchant:
                    merchantId: '9876543219'
                    doingBusinessAs: Joe Bloggs Shoes
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/9876543219
                  links:
                    - rel: transactions
                      method: get
                      href: https://api.payroc.com/v1/transactions?batchId=66
                    - rel: authorizations
                      method: get
                      href: https://api.payroc.com/v1/authorizations?batchId=66
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2027-07-02'
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - batchId: 123
                  date: '2024-07-02'
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  saleAmount: 1
                  heldAmount: 1
                  returnAmount: 1
                  transactionCount: 1
                  currency: currency
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  links:
                    - rel: transactions
                      method: get
                      href: https://api.payroc.com/v1/transactions?batchId=123
                    - rel: authorizations
                      method: get
                      href: https://api.payroc.com/v1/authorizations?batchId=123
    getBatch:
      path: /batches/{batchId}
      method: GET
      auth: true
      docs: Retrieve a specific batch.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Retrieve batch
      request:
        name: GetBatchSettlementRequest
        path-parameters:
          batchId:
            type: integer
            docs: Unique identifier of the batch.
      response:
        docs: Successful request. Returns the requested batch.
        type: root.Batch
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            batchId: 1
          response:
            body:
              batchId: 123
              date: '2024-07-02'
              createdDate: '2024-07-02'
              lastModifiedDate: '2024-07-02'
              saleAmount: 1
              heldAmount: 1
              returnAmount: 1
              transactionCount: 1
              currency: currency
              merchant:
                merchantId: '4525644354'
                doingBusinessAs: Doe Hot Dogs
                link:
                  rel: merchant
                  method: get
                  href: https://api.payroc.com/v1/merchants/4525644354
              links:
                - rel: transactions
                  method: get
                  href: https://api.payroc.com/v1/transactions?batchId=123
                - rel: authorizations
                  method: get
                  href: https://api.payroc.com/v1/authorizations?batchId=123
    listTransactions:
      path: /transactions
      method: GET
      auth: true
      docs: Retrieve a list of transactions.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List transactions
      request:
        name: ListReportingSettlementTransactionsRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          date:
            type: string
            docs: >-
              Date to retrieve results from. The format of this value is
              **YYYY-MM-DD**. You must provide either the 'batchId' or the
              'date'.
            validation:
              format: date
          batchId:
            type: integer
            docs: >-
              Unique identifier of the batch. You must provide either the
              'batchId' or the 'date'.
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
          transactionType:
            type: optional<ListTransactionsSettlementRequestTransactionType>
            docs: Type of transaction.
      response:
        docs: Successful request. Returns a paginated list of transactions.
        type: ListTransactionsSettlementResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated transactions
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-01'
            batchId: 1
            merchantId: '4525644354'
          response:
            body:
              limit: 2
              count: 1
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/transctions?before=442233&limit=2&date=2024-07-02
              data:
                - transactionId: 442233
                  type: capture
                  date: '2024-07-02'
                  amount: 4999
                  entryMethod: ecommerce
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  status: paid
                  cashbackAmount: 0
                  interchange:
                    basisPoint: 0
                    transactionFee: 0
                  currency: USD
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Pizza Doe
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  settled:
                    settledBy: 3rd party
                    achDate: '2024-07-02'
                  batch:
                    batchId: 12
                    date: '2024-07-02'
                    cycle: am
                    link:
                      rel: batch
                      method: get
                      href: https://api.payroc.com/v1/batches/12
                  card:
                    cardNumber: 453985******7062
                    type: visa
                    cvvPresenceIndicator: true
                    avsRequest: true
                    avsResponse: ''
                  authorization:
                    authorizationId: 303101
                    code: A1B2C3
                    amount: 4999
                    avsResponseCode: ''
                    link:
                      rel: authorization
                      method: get
                      href: https://api.payroc.com/v1/authorizations/303101
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-01'
            batchId: 1
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - transactionId: 442233
                  type: capture
                  date: '2024-07-02'
                  amount: 4999
                  entryMethod: barcodeRead
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  status: fullSuspense
                  cashbackAmount: 0
                  interchange:
                    basisPoint: 150
                    transactionFee: 50
                  currency: USD
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  settled:
                    settledBy: Payroc
                    achDate: '2024-07-02'
                  batch:
                    batchId: 1234
                    date: '2024-07-02'
                    cycle: am
                    link:
                      rel: previous
                      method: get
                      href: <uri>
                  card:
                    cardNumber: 123456**********4124
                  authorization:
                    authorizationId: 303101
                    code: A1B2C3
                    amount: 4999
                    avsResponseCode: 'Y'
                    link:
                      rel: previous
                      method: get
                      href: <uri>
    getTransaction:
      path: /transactions/{transactionId}
      method: GET
      auth: true
      docs: Retrieve a specific transaction.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Retrieve transaction
      request:
        name: GetTransactionSettlementRequest
        path-parameters:
          transactionId:
            type: integer
            docs: Unique identifier of the transaction.
      response:
        docs: Successful request. Returns the requested transaction.
        type: root.Transaction
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            transactionId: 1
          response:
            body:
              transactionId: 442233
              type: capture
              date: '2024-07-02'
              amount: 4999
              entryMethod: barcodeRead
              createdDate: '2024-07-02'
              lastModifiedDate: '2024-07-02'
              status: fullSuspense
              cashbackAmount: 0
              interchange:
                basisPoint: 150
                transactionFee: 50
              currency: USD
              merchant:
                merchantId: '4525644354'
                doingBusinessAs: Doe Hot Dogs
                link:
                  rel: merchant
                  method: get
                  href: https://api.payroc.com/v1/merchants/4525644354
              settled:
                settledBy: Payroc
                achDate: '2024-07-02'
              batch:
                batchId: 1234
                date: '2024-07-02'
                cycle: am
                link:
                  rel: previous
                  method: get
                  href: <uri>
              card:
                cardNumber: 123456**********4124
                type: visa
                cvvPresenceIndicator: true
                avsRequest: true
                avsResponse: avsResponse
              authorization:
                authorizationId: 303101
                code: A1B2C3
                amount: 4999
                avsResponseCode: 'Y'
                link:
                  rel: previous
                  method: get
                  href: <uri>
    listAuthorizations:
      path: /authorizations
      method: GET
      auth: true
      docs: Retrieve a list of authorizations.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List authorizations
      request:
        name: ListReportingSettlementAuthorizationsRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          date:
            type: string
            docs: >-
              Date to retrieve results from. The format of this value is
              **YYYY-MM-DD**. You must provide either the 'batchId' or the
              'date'.
            validation:
              format: date
          batchId:
            type: integer
            docs: >-
              Unique identifier of the batch. You must provide either the
              'batchId' or the 'date'.
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
      response:
        docs: Successful request. Returns a paginated list of authorizations.
        type: ListAuthorizationsSettlementResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated authorizations
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-01'
            batchId: 1
            merchantId: '4525644354'
          response:
            body:
              limit: 2
              count: 1
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/authorizations?before=65&limit=2&date=2024-07-02
              data:
                - authorizationId: 65
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  authorizationResponse: successful
                  preauthorizationRequestAmount: 10000
                  currency: USD
                  batch:
                    batchId: 12
                    date: '2024-07-02'
                    cycle: am
                    link:
                      rel: batch
                      method: get
                      href: https://api.payroc.com/v1/batches/12
                  card:
                    cardNumber: 12456**********4124
                    type: visa
                    cvvPresenceIndicator: true
                    avsRequest: true
                    avsResponse: ''
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Pizza Doe
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  transaction:
                    transactionId: 12345
                    type: capture
                    date: ''
                    entryMethod: swiped
                    amount: 100
                    link:
                      rel: transaction
                      method: get
                      href: https://api.payroc.com/v1/transactions/12345
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-01'
            batchId: 1
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - authorizationId: 12345
                  createdDate: '2024-01-30'
                  lastModifiedDate: '2024-01-30'
                  authorizationResponse: activityCountLimitExceeded
                  preauthorizationRequestAmount: 10000
                  currency: currency
                  batch:
                    batchId: 1234
                    date: '2024-07-02'
                    cycle: am
                    link:
                      rel: previous
                      method: get
                      href: <uri>
                  card:
                    cardNumber: 123456**********4124
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  transaction:
                    date: '2024-07-02'
                    amount: 25000
                    link:
                      rel: previous
                      method: get
                      href: <uri>
    getAuthorization:
      path: /authorizations/{authorizationId}
      method: GET
      auth: true
      docs: Retrieve a specific authorization.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Retrieve authorization
      request:
        name: GetAuthorizationSettlementRequest
        path-parameters:
          authorizationId:
            type: integer
            docs: Unique identifier of the authorization.
      response:
        docs: Successful request. Returns the requested authorization.
        type: root.Authorization
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            authorizationId: 1
          response:
            body:
              authorizationId: 12345
              createdDate: '2024-01-30'
              lastModifiedDate: '2024-01-30'
              authorizationResponse: activityCountLimitExceeded
              preauthorizationRequestAmount: 10000
              currency: currency
              batch:
                batchId: 1234
                date: '2024-07-02'
                cycle: am
                link:
                  rel: previous
                  method: get
                  href: <uri>
              card:
                cardNumber: 123456**********4124
                type: visa
                cvvPresenceIndicator: true
                avsRequest: true
                avsResponse: avsResponse
              merchant:
                merchantId: '4525644354'
                doingBusinessAs: Doe Hot Dogs
                link:
                  rel: merchant
                  method: get
                  href: https://api.payroc.com/v1/merchants/4525644354
              transaction:
                transactionId: 12345
                type: capture
                date: '2024-07-02'
                entryMethod: barcodeRead
                amount: 25000
                link:
                  rel: previous
                  method: get
                  href: <uri>
    listDisputes:
      path: /disputes
      method: GET
      auth: true
      docs: Retrieve a list of disputes.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List disputes
      request:
        name: ListReportingSettlementDisputesRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          date:
            type: string
            docs: Date that the dispute was submitted.
            validation:
              format: date
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
      response:
        docs: Successful request. Returns a paginated list of disputes.
        type: ListDisputesSettlementResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated disputes
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-02'
            merchantId: '4525644354'
          response:
            body:
              limit: 2
              count: 1
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/disputes?before=65&limit=2&date=2024-07-02
              data:
                - disputeId: 65
                  disputeType: firstDispute
                  currentStatus:
                    disputeStatusId: 123
                    status: new
                    statusDate: '2024-07-02'
                    link:
                      rel: statuses
                      method: get
                      href: https://api.payroc.com/v1/disputes/65/statuses
                  createdDate: '2024-07-02'
                  lastModifiedDate: '2024-07-02'
                  receivedDate: ''
                  description: ''
                  referenceNumber: '35435435'
                  disputeAmount: 1000
                  feeAmount: 100
                  firstDispute: true
                  authorizationCode: '574254'
                  currency: USD
                  card:
                    cardNumber: 12456**********4124
                    type: visa
                    cvvPresenceIndicator: true
                    avsRequest: true
                    avsResponse: ''
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Pizza Doe
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  transaction:
                    transactionId: 12345
                    type: capture
                    date: ''
                    entryMethod: swiped
                    amount: 100
                    link:
                      rel: transaction
                      method: get
                      href: https://api.payroc.com/v1/transactions/12345
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            date: '2024-07-02'
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - disputeId: 12345
                  disputeType: prearbitration
                  currentStatus:
                    disputeStatusId: 12345
                    statusDate: '2024-02-01'
                    link:
                      rel: previous
                      method: get
                      href: <uri>
                  createdDate: '2024-02-20'
                  lastModifiedDate: '2024-02-25'
                  receivedDate: '2024-02-18'
                  description: description
                  referenceNumber: referenceNumber
                  disputeAmount: 1
                  feeAmount: 1
                  firstDispute: true
                  authorizationCode: authorizationCode
                  currency: currency
                  card:
                    cardNumber: 123456**********4124
                  merchant:
                    merchantId: '4525644354'
                    doingBusinessAs: Doe Hot Dogs
                    link:
                      rel: merchant
                      method: get
                      href: https://api.payroc.com/v1/merchants/4525644354
                  transaction:
                    date: '2024-07-02'
                    amount: 25000
                    link:
                      rel: previous
                      method: get
                      href: <uri>
    getDisputesStatuses:
      path: /disputes/{disputeId}/statuses
      method: GET
      auth: true
      docs: Retrieve the status history for a specific dispute.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List dispute statuses
      request:
        name: GetDisputesStatusesSettlementRequest
        path-parameters:
          disputeId:
            type: integer
            docs: Unique identifier of the dispute.
      response:
        docs: Successful request. Returns the status history for a specific dispute.
        type: list<root.DisputeStatus>
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - path-parameters:
            disputeId: 1
          response:
            body:
              - disputeStatusId: 12345
                status: prearbitrationInProcess
                statusDate: '2024-02-01'
  source:
    openapi: openapi/external/universal-api-v1.yaml
