types:
  ListSubscriptionsRequestFrequency:
    enum:
      - weekly
      - fortnightly
      - monthly
      - quarterly
      - yearly
    source:
      openapi: openapi/external/universal-api-v1.yaml
  ListSubscriptionsRequestStatus:
    enum:
      - active
      - completed
      - suspended
      - cancelled
    source:
      openapi: openapi/external/universal-api-v1.yaml
  SubscriptionRequestPaymentMethod:
    discriminant: type
    base-properties: {}
    docs: Object that contains information about the customer's payment details.
    union:
      secureToken:
        type: root.SecureTokenPayload
    source:
      openapi: openapi/external/universal-api-v1.yaml
imports:
  root: ../__package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    list:
      path: /processing-terminals/{processingTerminalId}/subscriptions
      method: GET
      auth: true
      docs: |
        List subscriptions linked to a terminal.  
        To filter your results, use the query parameters.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List subscriptions
      request:
        name: ListSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
        query-parameters:
          customerName:
            type: optional<string>
            docs: Filter by the customer's name.
            validation:
              minLength: 1
              maxLength: 50
          last4:
            type: optional<string>
            docs: Filter by the last four digits of the card or account number.
            validation:
              pattern: '[0-9]{4}'
          paymentPlan:
            type: optional<string>
            docs: Filter by the name of the payment plan.
            validation:
              minLength: 1
              maxLength: 128
          frequency:
            type: optional<ListSubscriptionsRequestFrequency>
            docs: Filter by the frequency of subscription payments.
          status:
            type: optional<ListSubscriptionsRequestStatus>
            docs: Filter by the current status of the subscription.
          endDate:
            type: optional<string>
            docs: |
              Format: `YYYY-MM-DD`  
              Filter subscriptions that end on a specific date.
            validation:
              format: date
          nextDueDate:
            type: optional<string>
            docs: >
              Format: `YYYY-MM-DD`  

              Filter subscriptions by the date that the next payment is
              collected.
            validation:
              format: date
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
        headers:
          Idempotency-Key:
            type: string
            name: idempotencyKey
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
      response:
        docs: Successful request. Returns a paginated list of subscriptions.
        type: root.SubscriptionPaginatedList
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated Subscription
          path-parameters:
            processingTerminalId: '1234001'
          query-parameters:
            customerName: Sarah%20Hazel%20Hopper
            last4: '7062'
            paymentPlan: Premium%20Club
            endDate: '2025-07-01T00:00:00Z'
            nextDueDate: '2024-08-01T00:00:00Z'
            before: '2571'
            after: '8516'
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          response:
            body:
              limit: 2
              count: 2
              hasMore: true
              links:
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/subscriptions?limit=2&after=SubRef8543
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/subscriptions?limit=2&before=SubRef7654
              data:
                - subscriptionId: SubRef7654
                  processingTerminalId: '1234001'
                  paymentPlan:
                    paymentPlanId: PlanRef8765
                    name: Monthly Premium Club subscription
                    link:
                      rel: self
                      method: GET
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
                  secureToken:
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    customerName: Sarah Hazel Hopper
                    token: '296753123456'
                    status: notValidated
                    link:
                      rel: self
                      method: GET
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  name: Premium Club
                  description: Monthly Premium Club subscription
                  currency: USD
                  setupOrder:
                    orderId: OrderRef6543
                    amount: 4999
                    description: Initial setup fee for Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  recurringOrder:
                    amount: 4999
                    description: Monthly Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  currentState:
                    status: active
                    nextDueDate: '2024-08-02'
                    paidInvoices: 1
                    outstandingInvoices: 11
                  startDate: '2024-07-02'
                  endDate: '2025-08-01'
                  length: 0
                  type: automatic
                  frequency: monthly
                  pauseCollectionFor: 0
                  customFields:
                    - name: yourCustomField
                      value: abc123
                - subscriptionId: SubRef8543
                  processingTerminalId: '1234001'
                  paymentPlan:
                    paymentPlanId: PlanRef7654
                    name: Pie it Forward charitable trust donation
                    link:
                      rel: self
                      method: GET
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef7654
                  secureToken:
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    customerName: Sarah Hazel Hopper
                    token: '296753123456'
                    status: notValidated
                    link:
                      rel: self
                      method: GET
                      href: >-
                        https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                  name: Pie It Forward
                  description: Pie It Forward charitable trust donation
                  currency: USD
                  setupOrder:
                    orderId: OrderRef7654
                    amount: 3999
                    description: Monthly Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  recurringOrder:
                    amount: 3999
                    description: Monthly Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  currentState:
                    status: active
                    nextDueDate: '2024-04-11'
                    paidInvoices: 1
                    outstandingInvoices: 11
                  startDate: '2024-07-02'
                  endDate: '2024-07-02'
                  length: 0
                  type: automatic
                  frequency: yearly
                  pauseCollectionFor: 0
                  customFields:
                    - name: yourCustomField
                      value: abc123
        - name: No records found
          path-parameters:
            processingTerminalId: '1234001'
          query-parameters:
            customerName: Sarah%20Hazel%20Hopper
            last4: '7062'
            paymentPlan: Premium%20Club
            endDate: '2025-07-01T00:00:00Z'
            nextDueDate: '2024-08-01T00:00:00Z'
            before: '2571'
            after: '8516'
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - subscriptionId: SubRef7654
                  processingTerminalId: '1234001'
                  paymentPlan:
                    paymentPlanId: PlanRef8765
                    name: Monthly Premium Club subscription
                    link:
                      rel: previous
                      method: get
                      href: <uri>
                  secureToken:
                    secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                    customerName: Sarah Hazel Hopper
                    token: '296753123456'
                    status: notValidated
                    link:
                      rel: previous
                      method: get
                      href: <uri>
                  name: Premium Club
                  description: >-
                    Monthly Premium Club subscription. Two large pizzas free per
                    month, and exclusive member discounts.
                  currency: AED
                  setupOrder:
                    orderId: OrderRef6543
                    amount: 4999
                    description: Monthly Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  recurringOrder:
                    amount: 4999
                    description: Monthly Premium Club subscription
                    breakdown:
                      subtotal: 4500
                      taxes:
                        - name: Sales Tax
                          rate: 7
                          amount: 190
                  currentState:
                    status: active
                    nextDueDate: '2024-08-02'
                    paidInvoices: 3
                    outstandingInvoices: 9
                  startDate: '2024-05-02'
                  endDate: '2025-05-02'
                  length: 12
                  type: manual
                  frequency: weekly
                  pauseCollectionFor: 0
                  customFields:
                    - name: yourCustomField
                      value: abc123
    create:
      path: /processing-terminals/{processingTerminalId}/subscriptions
      method: POST
      auth: true
      docs: Create a new subscription.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Create subscription
      request:
        name: SubscriptionRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
        headers:
          Idempotency-Key:
            type: string
            name: idempotencyKey
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
        body:
          properties:
            subscriptionId:
              type: string
              docs: >-
                Unique identifier that the merchant assigned to the
                subscription.
              validation:
                minLength: 1
                maxLength: 48
            paymentPlanId:
              type: string
              docs: >-
                Unique identifier that the merchant assigned to the payment
                plan.
              validation:
                minLength: 1
                maxLength: 48
            paymentMethod:
              type: SubscriptionRequestPaymentMethod
              docs: >-
                Object that contains information about the customer's payment
                details.
            name:
              type: optional<string>
              docs: |
                Name of the subscription. 
                This value replaces the name inherited from the payment plan.
              validation:
                minLength: 5
                maxLength: 128
            description:
              type: optional<string>
              docs: >
                Description of the subscription. 

                This value replaces the description inherited from the payment
                plan.
              validation:
                minLength: 1
                maxLength: 128
            setupOrder: optional<root.SubscriptionPaymentOrder>
            recurringOrder: optional<root.SubscriptionRecurringOrder>
            startDate:
              type: string
              docs: |
                Format: **YYYY-MM-DD**  
                Subscription's start date.
              validation:
                format: date
            endDate:
              type: optional<string>
              docs: >
                Format: **YYYY-MM-DD**  

                Subscription's end date.  

                **Note:** If you provide values for both **length** and
                **endDate**, 

                our gateway uses the value for **endDate** to determine when the
                subscription should end.
              validation:
                format: date
            length:
              type: optional<integer>
              docs: >
                Total number of billing cycles. To indicate that the
                subscription should run indefinitely, send a value of `0`.

                This value replaces the **length** inherited from the payment
                plan.  

                **Note:** If you provide values for both **length** and
                **endDate**, 

                our gateway uses the value for **endDate** to determine when the
                subscription should end.
              validation:
                min: 0
            pauseCollectionFor:
              type: optional<integer>
              docs: >
                Number of billing cycles that the merchant wants to pause
                payments for. 

                For example, if the merchant wants to offer a free trial period.
            customFields:
              type: optional<list<root.CustomField>>
              docs: |
                Array of customField objects.
        content-type: application/json
      response:
        docs: Successful request. We created the subscription.
        type: root.Subscription
        status-code: 201
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          request:
            subscriptionId: SubRef7654
            paymentPlanId: PlanRef8765
            paymentMethod:
              token: '1234567890123456789'
              type: secureToken
            name: Premium Club
            description: Premium Club subscription
            setupOrder:
              orderId: OrderRef6543
              amount: 4999
              description: Initial setup fee for Premium Club subscription
              breakdown:
                subtotal: 4347
                taxes:
                  - name: Sales Tax
                    rate: 5
            recurringOrder:
              amount: 4999
              description: Monthly Premium Club subscription
              breakdown:
                subtotal: 4347
                taxes:
                  - name: Sales Tax
                    rate: 5
            startDate: '2024-07-02'
            endDate: '2025-07-01'
            length: 12
            pauseCollectionFor: 0
            customFields:
              - name: yourCustomField
                value: abc123
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
    get:
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}
      method: GET
      auth: true
      docs: Retrieve a specific subscription.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Retrieve subscription
      request:
        name: GetSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
          subscriptionId:
            type: string
            docs: Unique identifier of the subscription that you want to view.
      response:
        docs: Successful request. Returns the requested subscription.
        type: root.Subscription
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
    update:
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}
      method: PATCH
      auth: true
      docs: |
        Make changes to a subscription.  

        Structure your request to follow the RFC 6902 standard.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Update subscription
      request:
        body: root.PatchRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
          subscriptionId:
            type: string
            docs: Unique identifier of the subscription that you want to view.
        headers:
          Idempotency-Key:
            type: string
            name: idempotencyKey
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
        name: UpdateSubscriptionsRequest
        content-type: application/json
      response:
        docs: Successful request. We have updated the subscription.
        type: root.Subscription
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Partially update subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          request:
            - path: path
              op: remove
            - path: path
              op: remove
            - path: path
              op: remove
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
        - name: Example patch operations that apply the RFC 6902 standard
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          request:
            - path: path
              op: remove
            - path: path
              op: remove
            - path: path
              op: remove
            - from: from
              path: path
              op: move
            - from: from
              path: path
              op: copy
            - path: path
              op: remove
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
    deactivate:
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/deactivate
      method: POST
      auth: true
      docs: Deactivate a subscription.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Deactivate subscription
      request:
        name: DeactivateSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
          subscriptionId:
            type: string
            docs: Unique identifier of the subscription that you want to deactivate.
      response:
        docs: Successful request. We deactivated the subscription.
        type: root.Subscription
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Deactivate subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Monthly Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Monthly Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: cancelled
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
    reactivate:
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/reactivate
      method: POST
      auth: true
      docs: Re-activate an existing subscription.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Re-activate subscription
      request:
        name: ReactivateSubscriptionsRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
          subscriptionId:
            type: string
            docs: >-
              Unique identifier of the subscription that you want to
              re-activate.
      response:
        docs: Successful request. We re-activated the subscription.
        type: root.Subscription
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Subscription
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              paymentPlan:
                paymentPlanId: PlanRef8765
                name: Monthly Premium Club subscription
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/payment-plans/PlanRef8765
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              name: Premium Club
              description: Premium Club subscription
              currency: USD
              setupOrder:
                orderId: OrderRef6543
                amount: 4999
                description: Initial setup fee for Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              recurringOrder:
                amount: 4999
                description: Premium Club subscription
                breakdown:
                  subtotal: 4347
                  taxes:
                    - name: Sales Tax
                      rate: 5
                      amount: 190
                  surcharge:
                    bypass: false
                    amount: 217
                    percentage: 5
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 0
                outstandingInvoices: 3
              startDate: '2024-07-02'
              endDate: '2025-07-01'
              length: 12
              type: automatic
              frequency: monthly
              pauseCollectionFor: 0
              customFields:
                - name: yourCustomField
                  value: abc123
    pay:
      path: >-
        /processing-terminals/{processingTerminalId}/subscriptions/{subscriptionId}/pay
      method: POST
      auth: true
      docs: Process payment for a manual subscription.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Pay manual subscription
      request:
        name: SubscriptionPaymentRequest
        path-parameters:
          processingTerminalId:
            type: string
            docs: Unique identifier that our gateway assigned to the terminal.
          subscriptionId:
            type: string
            docs: >-
              Unique identifier of the subscription that you want to make a
              payment to.
        headers:
          Idempotency-Key:
            type: string
            name: idempotencyKey
            docs: >-
              Unique identifier that you generate for each request. You must use
              the UUID v4 format for the identifier. For more information about
              the idempotency key, go to
              [Idempotency](https://docs.payroc.com/api/idempotency).
        body:
          properties:
            operator:
              type: optional<string>
              docs: Operator who initiated the request.
              validation:
                minLength: 0
                maxLength: 50
            order: root.SubscriptionPaymentOrder
            customFields:
              type: optional<list<root.CustomField>>
              docs: |
                Array of customField objects.
        content-type: application/json
      response:
        docs: >-
          Successful request. We have processed the payment for the
          subscription.
        type: root.SubscriptionPayment
        status-code: 201
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
        - root.InternalServerError
      examples:
        - name: Subscription manual payment
          path-parameters:
            processingTerminalId: '1234001'
            subscriptionId: SubRef7654
          headers:
            Idempotency-Key: 8e03978e-40d5-43e8-bc93-6894a57f9324
          request:
            operator: Jane
            order:
              orderId: OrderRef6543
              amount: 4999
              description: Monthly Premium Club subscription
              breakdown:
                subtotal: 4999
                taxes:
                  - name: Sales Tax
                    rate: 5
            customFields:
              - name: yourCustomField
                value: abc123
          response:
            body:
              subscriptionId: SubRef7654
              processingTerminalId: '1234001'
              payment:
                paymentId: M2MJOG6O2Y
                dateTime: '2024-07-02T15:30:00Z'
                currency: USD
                amount: 4999
                status: ready
                responseCode: A
                responseMessage: Transaction approved
                link:
                  rel: self
                  method: GET
                  href: https://api.payroc.com/v1/bank-transfer-payments/M2MJOG6O2Y
              secureToken:
                secureTokenId: MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
                customerName: Sarah Hazel Hopper
                token: '296753123456'
                status: notValidated
                link:
                  rel: self
                  method: GET
                  href: >-
                    https://api.payroc.com/v1/processing-terminals/1234001/secure-tokens/MREF_abc1de23-f4a5-6789-bcd0-12e345678901fa
              currentState:
                status: active
                nextDueDate: '2024-08-02'
                paidInvoices: 1
                outstandingInvoices: 2
              customFields:
                - name: yourCustomField
                  value: abc123
  source:
    openapi: openapi/external/universal-api-v1.yaml
