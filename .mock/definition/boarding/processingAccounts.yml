imports:
  root: ../__package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    get:
      path: /processing-accounts/{processingAccountId}
      method: GET
      auth: true
      docs: Retrieve a specific processing account.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Retrieve processing account
      request:
        name: GetProcessingAccountsRequest
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
      response:
        docs: Successful request. Returns the processing account.
        type: root.ProcessingAccount
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Retrieve processing account
          path-parameters:
            processingAccountId: '38765'
          response:
            body:
              processingAccountId: '38765'
              createdDate: '2024-07-02T12:00:00Z'
              lastModifiedDate: '2024-07-02T12:00:00Z'
              status: approved
              doingBusinessAs: Pizza Doe
              owners:
                - ownerId: 4564
                  firstName: Jane
                  lastName: Doe
                  link:
                    rel: owner
                    href: https://api.payroc.com/v1/owners/1543
                    method: get
              website: www.example.com
              businessType: restaurant
              categoryCode: 5999
              merchandiseOrServiceSold: Pizza
              businessStartDate: '2020-01-01'
              timezone: America/Chicago
              address:
                address1: 1 Example Ave.
                address2: Example Address Line 2
                address3: Example Address Line 3
                city: Chicago
                state: Illinois
                country: US
                postalCode: '60056'
              contactMethods:
                - value: jane.doe@example.com
                  type: email
              processing:
                merchantId: '444412365478965'
                transactionAmounts:
                  average: 5000
                  highest: 10000
                monthlyAmounts:
                  average: 50000
                  highest: 100000
                volumeBreakdown:
                  cardPresentKeyed: 47
                  cardPresentSwiped: 30
                  mailOrTelephone: 3
                  ecommerce: 20
                isSeasonal: true
                monthsOfOperation:
                  - jan
                  - feb
                ach:
                  naics: '5812'
                  previouslyTerminatedForAch: false
                  refunds:
                    writtenRefundPolicy: true
                    refundPolicyUrl: www.example.com/refund-poilcy-url
                  estimatedMonthlyTransactions: 3000
                  limits:
                    singleTransaction: 10000
                    dailyDeposit: 200000
                    monthlyDeposit: 6000000
                  transactionTypes:
                    - prearrangedPayment
                    - other
                  transactionTypesOther: anotherTransactionType
                cardAcceptance:
                  debitOnly: false
                  hsaFsa: false
                  cardsAccepted:
                    - visa
                    - mastercard
                  specialityCards:
                    americanExpressDirect:
                      enabled: true
                      merchantNumber: abc1234567
                    electronicBenefitsTransfer:
                      enabled: true
                      fnsNumber: '6789012'
                    other:
                      wexMerchantNumber: abc1234567
                      voyagerMerchantId: abc1234567
                      fleetMerchantId: abc1234567
              funding:
                status: enabled
                fundingSchedule: nextday
                acceleratedFundingFee: 1999
                dailyDiscount: false
                fundingAccounts:
                  - fundingAccountId: 123
                    status: pending
                    link:
                      rel: fundingAccount
                      method: get
                      href: https://api.payroc.com/v1/funding-account/123
              pricing:
                link:
                  rel: pricing
                  href: https://api.payroc.com/v1/processing-account/38765/pricing
                  method: get
              contacts:
                - contactId: 1543
                  firstName: Jane
                  lastName: Doe
                  link:
                    rel: contact
                    href: https://api.payroc.com/v1/contacts/1543
                    method: get
              signature:
                link:
                  rel: agreement
                  method: get
                  href: >-
                    https://us.agreementexpress.net/mv2/viewer2.jsp?docId=00000000-0000-0000-0000-000000000000
                type: requestedViaDirectLink
              metadata:
                customerId: '2345'
              links:
                - rel: previous
                  method: get
                  href: <uri>
    listFundingAccounts:
      path: /processing-accounts/{processingAccountId}/funding-accounts
      method: GET
      auth: true
      docs: >-
        Retrieve a list of funding accounts associated with a processing
        account.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List processing account's funding accounts
      request:
        name: ListProcessingAccountFundingAccountsRequest
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
      response:
        docs: >-
          Successful request. Returns a list of funding accounts associated with
          the processing account.
        type: list<root.FundingAccount>
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: List of funding accounts
          path-parameters:
            processingAccountId: '38765'
          response:
            body:
              - fundingAccountId: 123
                createdDate: '2024-01-15T09:30:00Z'
                lastModifiedDate: '2024-07-02T12:00:00Z'
                status: approved
                type: checking
                use: creditAndDebit
                nameOnAccount: Jane Doe
                paymentMethods:
                  - value:
                      routingNumber: '123456789'
                      accountNumber: '1234567890'
                    type: ach
                metadata:
                  yourCustomField: abc123
                links:
                  - rel: parent
                    method: get
                    href: https://api.payroc.com/v1/processing-accounts/38765
              - fundingAccountId: 124
                createdDate: '2024-07-02T12:00:00Z'
                lastModifiedDate: '2024-07-02T12:00:00Z'
                status: pending
                type: checking
                use: creditAndDebit
                nameOnAccount: Jane Doe
                paymentMethods:
                  - value:
                      routingNumber: '123456789'
                      accountNumber: '1234567890'
                    type: ach
                metadata:
                  yourCustomField: abc123
                links:
                  - rel: parent
                    method: get
                    href: https://api.payroc.com/v1/processing-accounts/38765
    contacts:
      path: /processing-accounts/{processingAccountId}/contacts
      method: GET
      auth: true
      docs: Retrieve a list of contacts associated with a processing account.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List contacts
      request:
        name: ContactsProcessingAccountsRequest
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
      response:
        docs: >-
          Successful request. Returns a list of contacts associated with the
          processing account.
        type: root.PaginatedContacts
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated list of processing account contacts
          path-parameters:
            processingAccountId: '38765'
          query-parameters:
            before: '2571'
            after: '8516'
          response:
            body:
              limit: 2
              count: 2
              hasMore: true
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-accounts/38765/contacts?before=1543&limit=2
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-accounts/38765/contacts?after=87926&limit=2
              data:
                - contactId: 1543
                  type: manager
                  firstName: Jane
                  middleName: Helen
                  lastName: Doe
                  identifiers:
                    - type: nationalId
                      value: xxxxx4320
                  contactMethods:
                    - value: '2025550164'
                      type: phone
                    - value: '8445557624'
                      type: mobile
                    - value: jane.doe@example.com
                      type: email
                - contactId: 87926
                  type: representative
                  firstName: Fred
                  middleName: Jim
                  lastName: Nerk
                  identifiers:
                    - type: nationalId
                      value: xxxxx9876
                  contactMethods:
                    - value: '2025550164'
                      type: phone
                    - value: '8445557624'
                      type: mobile
                    - value: jane.doe@example.com
                      type: email
        - name: No records found
          path-parameters:
            processingAccountId: '38765'
          query-parameters:
            before: '2571'
            after: '8516'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - contactId: 1543
                  type: manager
                  firstName: Jane
                  middleName: Helen
                  lastName: Doe
                  identifiers:
                    - type: nationalId
                      value: 000-00-4320
                  contactMethods:
                    - value: jane.doe@example.com
                      type: email
    pricing:
      path: /processing-accounts/{processingAccountId}/pricing
      method: GET
      auth: true
      docs: Retrieve a pricing agreement for a processing account.
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Get processing account pricing agreement
      request:
        name: PricingProcessingAccountsRequest
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
      response:
        docs: >-
          Successful request. Returns the pricing agreement for the processing
          account.
        type: PricingProcessingAccountsResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Get processing account pricing agreement
          path-parameters:
            processingAccountId: '38765'
          response:
            body:
              country: US
              base:
                addressVerification: 5
                annualFee:
                  billInMonth: june
                  amount: 100
                regulatoryAssistanceProgram: 15
                pciNonCompliance: 7495
                merchantAdvantage: 10
                platinumSecurity:
                  amount: 1295
                  billingFrequency: monthly
                maintenance: 1995
                minimum: 100
                voiceAuthorization: 95
                chargeback: 2500
                retrieval: 1500
                batch: 5
                earlyTermination: 57500
              processor:
                card:
                  fees:
                    mastercardVisaDiscover:
                      volume: 1.25
                    amex:
                      volume: 1.25
                      transaction: 1
                      type: optBlue
                    pinDebit:
                      additionalDiscount: 1.25
                      transaction: 1
                      monthlyAccess: 1
                    enhancedInterchange:
                      enrollment: 1
                      creditToMerchant: 1.25
                  planType: interchangePlus
                ach:
                  fees:
                    transaction: 50
                    batch: 1000
                    returns: 400
                    unauthorizedReturn: 1999
                    statement: 800
                    monthlyMinimum: 20000
                    accountVerification: 100
                    discountRateUnder10000: 1.25
                    discountRateAbove10000: 1.25
              gateway:
                fees:
                  monthly: 1
                  setup: 1
                  perTransaction: 1
                  perDeviceMonthly: 1
              services:
                - enabled: true
                  name: hardwareAdvantagePlan
              version: '5.0'
    listOwners:
      path: /processing-accounts/{processingAccountId}/owners
      method: GET
      auth: true
      docs: Retrieve owners associated with a processing account.
      pagination:
        type: custom
        results: $response.data
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: List owners
      request:
        name: ListProcessingAccountOwnersRequest
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
      response:
        docs: >-
          Successful request. Returns a list of owners associated with the
          processing account.
        type: root.PaginatedOwners
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.NotFoundError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated list of processing account owners
          path-parameters:
            processingAccountId: '38765'
          query-parameters:
            before: '2571'
            after: '8516'
          response:
            body:
              limit: 2
              count: 2
              hasMore: true
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-accounts/38765/owners?before=4564&limit=2
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/processing-accounts/38765/owners?after=12346&limit=2
              data:
                - ownerId: 4564
                  firstName: Jane
                  middleName: Helen
                  lastName: Doe
                  dateOfBirth: '1964-03-22'
                  address:
                    address1: 1 Example Ave.
                    address2: Example Address Line 2
                    address3: Example Address Line 3
                    city: Chicago
                    state: Illinois
                    country: US
                    postalCode: '60056'
                  identifiers:
                    - type: nationalId
                      value: xxxxx4320
                  contactMethods:
                    - value: jane.doe@example.com
                      type: email
                    - value: '2025550164'
                      type: phone
                  relationship:
                    equityPercentage: 48.5
                    title: CFO
                    isControlProng: true
                    isAuthorizedSignatory: false
                - ownerId: 12346
                  firstName: Fred
                  middleName: Jim
                  lastName: Nerk
                  dateOfBirth: '1980-01-19'
                  address:
                    address1: 2 Example Ave.
                    address2: Example Address Line 2
                    address3: Example Address Line 3
                    city: Chicago
                    state: Illinois
                    country: US
                    postalCode: '60056'
                  identifiers:
                    - type: nationalId
                      value: xxxxx9876
                  contactMethods:
                    - value: jane.doe@example.com
                      type: email
                  relationship:
                    equityPercentage: 51.5
                    title: CEO
                    isControlProng: false
                    isAuthorizedSignatory: true
        - name: No records found
          path-parameters:
            processingAccountId: '38765'
          query-parameters:
            before: '2571'
            after: '8516'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - ownerId: 4564
                  firstName: Jane
                  middleName: Helen
                  lastName: Doe
                  dateOfBirth: '1964-03-22'
                  address:
                    address1: 1 Example Ave.
                    address2: Example Address Line 2
                    address3: Example Address Line 3
                    city: Chicago
                    state: Illinois
                    country: US
                    postalCode: '60056'
                  identifiers:
                    - type: nationalId
                      value: xxxxx4320
                  contactMethods:
                    - value: jane.doe@example.com
                      type: email
                  relationship:
                    equityPercentage: 48.5
                    title: CFO
                    isControlProng: true
                    isAuthorizedSignatory: false
    createReminder:
      path: /processing-accounts/{processingAccountId}/reminders
      method: POST
      auth: true
      docs: >
        When you create a processing account, we send a copy of the pricing
        agreement to the merchant to sign. You can choose to send them a copy of
        the pricing agreement by email, or you can generate a link to the
        pricing agreement.<br/>  

        If you requested the merchant's signature by email and they don't
        respond, use our Reminders endpoint to create a reminder and to send
        another email.<br/>  

        **Note:** You can use the Reminders endpoint only if you request the
        merchant's signature by email. If you generate a link to the pricing
        agreement, you can't use the Reminders endpoint.  
      source:
        openapi: openapi/external/universal-api-v1.yaml
      display-name: Create reminder for processing account
      request:
        body: CreateReminderProcessingAccountsRequestBody
        path-parameters:
          processingAccountId:
            type: string
            docs: Unique identifier of the processing account.
        name: CreateReminderProcessingAccountsRequest
        content-type: application/json
      response:
        docs: Successful request. We sent the email to the merchant.
        type: CreateReminderProcessingAccountsResponse
        status-code: 201
      errors:
        - root.BadRequestError
        - root.ForbiddenError
        - root.NotFoundError
        - root.InternalServerError
      examples:
        - name: Reminder created
          path-parameters:
            processingAccountId: '38765'
          request:
            type: pricingAgreement
          response:
            body:
              reminderId: '1234567'
              type: pricingAgreement
  source:
    openapi: openapi/external/universal-api-v1.yaml
types:
  PricingProcessingAccountsResponse:
    discriminant: version
    base-properties: {}
    union:
      '4.0':
        type: root.PricingAgreementUs40
      '5.0':
        type: root.PricingAgreementUs50
    source:
      openapi: openapi/external/universal-api-v1.yaml
  CreateReminderProcessingAccountsRequestBody:
    discriminant: type
    base-properties: {}
    union:
      pricingAgreement: root.PricingAgreementReminder
    source:
      openapi: openapi/external/universal-api-v1.yaml
  CreateReminderProcessingAccountsResponse:
    discriminant: type
    base-properties: {}
    union:
      pricingAgreement: root.PricingAgreementReminder
    source:
      openapi: openapi/external/universal-api-v1.yaml
