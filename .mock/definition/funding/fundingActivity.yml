imports:
  root: ../__package__.yml
types:
  RetrieveBalanceFundingActivityResponse:
    properties:
      data:
        docs: Array of merchantBalance objects.
        type: list<root.MerchantBalance>
    extends:
      - root.PaginatedList
    source:
      openapi: read-only/openapi/external/universal-api-v1.yaml
  RetrieveFundingActivityResponse:
    properties:
      data:
        docs: Array of activityRecord objects.
        type: list<root.ActivityRecord>
    extends:
      - root.PaginatedList
    source:
      openapi: read-only/openapi/external/universal-api-v1.yaml
service:
  auth: false
  base-path: ''
  endpoints:
    retrieveBalance:
      path: /funding-balance
      method: GET
      auth: true
      docs: Retrieve the balance of funds that are available for each merchant.
      source:
        openapi: read-only/openapi/external/universal-api-v1.yaml
      display-name: Retrieve funding balance
      request:
        name: RetrieveBalanceFundingActivityRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
      response:
        docs: Successful request. Returns the balance available for each merchant.
        type: RetrieveBalanceFundingActivityResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated list of merchant balances
          query-parameters:
            before: '2571'
            after: '8516'
            merchantId: '4525644354'
          response:
            body:
              limit: 2
              count: 2
              hasMore: true
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/funding-balance?before=4525644354&limit=2
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/funding-balance?after=9876543219&limit=2
              data:
                - merchantId: '4525644354'
                  funds: 120000
                  pending: 50050
                  available: 69950
                  currency: USD
                - merchantId: '9876543219'
                  funds: 50000
                  pending: 0
                  available: 50000
                  currency: USD
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - merchantId: '4525644354'
                  funds: 120000
                  pending: 50050
                  available: 69950
                  currency: USD
    retrieve:
      path: /funding-activity
      method: GET
      auth: true
      docs: Retrieve funding activity for a specific date range.
      source:
        openapi: read-only/openapi/external/universal-api-v1.yaml
      display-name: List funding activity
      request:
        name: RetrieveFundingActivityRequest
        query-parameters:
          before:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results before. Typically, this is the first resource on the
              previous page.
          after:
            type: optional<string>
            docs: >-
              Points to the resource identifier that you want to receive your
              results after. Typically, this is the last resource on the
              previous page.
          limit:
            type: optional<integer>
            default: 10
            docs: States the total amount of results the response is limited to.
            validation:
              max: 100
          dateFrom:
            type: date
            docs: >-
              Retrieve activity that occured since `dateFrom`. We can return
              activity from only the last two years.
          dateTo:
            type: date
            docs: Retrieve activity that occured before `dateTo`.
          merchantId:
            type: optional<string>
            docs: Unique identifier of the merchant.
      response:
        docs: >-
          Successful request. Returns all available funding activity for the
          date range.
        type: RetrieveFundingActivityResponse
        status-code: 200
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotAcceptableError
        - root.InternalServerError
      examples:
        - name: Paginated activity records
          query-parameters:
            before: '2571'
            after: '8516'
            dateFrom: '2024-07-02'
            dateTo: '2024-07-03'
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 10
              hasMore: true
              links:
                - rel: previous
                  method: get
                  href: >-
                    https://api.payroc.com/v1/funding-activity?before=11&limit=10&datefrom=2024-07-01&dateto=2024-07-03
                - rel: next
                  method: get
                  href: >-
                    https://api.payroc.com/v1/funding-activity?after=20&limit=10&datefrom=2024-07-01&dateto=2024-07-03
              data:
                - id: 11
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: sales
                  amount: 4999
                  type: credit
                  currency: USD
                - id: 12
                  date: '2024-07-02T19:32:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: sales
                  amount: 3999
                  type: credit
                  currency: USD
                - id: 13
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: sales
                  amount: 3299
                  type: credit
                  currency: USD
                - id: 14
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Payroc
                  description: Interchange Fees
                  amount: 50
                  type: debit
                  currency: USD
                - id: 15
                  date: '2024-07-02T09:10:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: sales
                  amount: 4999
                  type: credit
                  currency: USD
                - id: 16
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Doe Hot Dogs
                  recipient: Pizza Doe
                  description: Adjustment
                  amount: 750
                  type: credit
                  currency: USD
                - id: 17
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Doe Hot Dogs
                  recipient: Payroc
                  description: Interchange Fees
                  amount: 5
                  type: debit
                  currency: USD
                - id: 18
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Payroc
                  description: Charge back
                  amount: 1000
                  type: debit
                  currency: USD
                - id: 19
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: sales
                  amount: 5999
                  type: credit
                  currency: USD
                - id: 20
                  date: '2024-07-02T17:00:00.000Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: payment
                  amount: 1000
                  type: debit
                  currency: USD
        - name: No records found
          query-parameters:
            before: '2571'
            after: '8516'
            dateFrom: '2024-07-02'
            dateTo: '2024-07-03'
            merchantId: '4525644354'
          response:
            body:
              limit: 10
              count: 0
              hasMore: false
              links:
                - rel: previous
                  method: get
                  href: <uri>
                - rel: next
                  method: get
                  href: <uri>
              data:
                - id: 12345
                  date: '2024-07-02T15:30:00Z'
                  merchant: Pizza Doe
                  recipient: Pizza Doe
                  description: payment
                  amount: 4999
                  type: credit
                  currency: USD
  source:
    openapi: read-only/openapi/external/universal-api-v1.yaml
